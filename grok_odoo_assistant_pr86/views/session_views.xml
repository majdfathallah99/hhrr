<odoo>
    <record id="view_grok_session_tree" model="ir.ui.view">
        <field name="name">grok.assistant.session.tree</field>
        <field name="model">grok.assistant.session</field>
        <field name="arch" type="xml">
            <tree>
                <field name="name"/>
                <field name="active"/>
                <field name="last_lang"/>
                <field name="allow_execute"/>
            </tree>
        </field>
    </record>

    <record id="view_grok_session_form" model="ir.ui.view">
        <field name="name">grok.assistant.session.form</field>
        <field name="model">grok.assistant.session</field>
        <field name="arch" type="xml">
            <form string="Grok Session">
                <sheet>
                    <group>
                        <field name="name"/>
                        <field name="active"/>
                        <field name="last_lang"/>
                        <field name="allow_execute"/>
                    </group>
                    <notebook>
                        <page string="Messages">
                            <field name="message_ids">
                                <tree editable="bottom">
                                    <field name="role"/>
                                    <field name="content"/>
                                    <field name="detected_lang"/>
                                    <field name="meta"/>
                                </tree>
                            </field>
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>

    <record id="view_grok_message_tree" model="ir.ui.view">
        <field name="name">grok.assistant.message.tree</field>
        <field name="model">grok.assistant.message</field>
        <field name="arch" type="xml">
            <tree>
                <field name="session_id"/>
                <field name="role"/>
                <field name="content"/>
                <field name="detected_lang"/>
            </tree>
        </field>
    </record>

    <!-- define action BEFORE using it in menu -->
    <record id="action_grok_sessions" model="ir.actions.act_window">
        <field name="name">Sessions</field>
        <field name="res_model">grok.assistant.session</field>
        <field name="view_mode">tree,form</field>
    </record>

    <menuitem id="menu_grok_logs" name="Logs" parent="menu_grok_root" action="action_grok_sessions"/>
</odoo>